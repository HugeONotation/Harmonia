#ifndef HARMONIA_CODEPOINT_MANIPULATION_TABLES_HPP
#define HARMONIA_CODEPOINT_MANIPULATION_TABLES_HPP

#include <cstdint>
#include <type_traits>
#include <array>

namespace harc::cuda {

    ///
    /// Enum for categorizations of codepoints as is relevant for Harmonia's
    /// grammar.
    ///
    enum class Codepoint_category : std::uint8_t {
        UNRECOGNIZED = 0,

        IDENTIFIER_START = 1,
        IDENTIFIER_CONTINUE = 2,
        NEWLINE = 3,
        OTHER_WHITESPACE = 4,

        EXCLAMATION = '!',
        DOUBLE_QUOTES = '"',
        SINGLE_QUOTE = '\'',
        CARET = '^',
        AMPERSAND = '&',
        PIPE = '|',
        TILDE = '~',
        COLON = ':',
        SEMICOLON = ';',
        COMMA = ',',

        PLUS = '+',
        MINUS = '-',
        ASTERISK = '*',
        FORWARD_SLASH = '/',
        PERCENT_SIGN = '%',

        BACKSLASH = '\\',

        EQUAL_SIGN = '=',

        L_PAREN = '(',
        R_PAREN = ')',
        L_CURLY_BRACKET  = '{',
        R_CURLY_BRACKET  = '}',
        L_SQUARE_BRACKET = '[',
        R_SQUARE_BRACKET = ']',
        L_ANGLE_BRACKET  = '<',
        R_ANGLE_BRACKET  = '>',

        DOT = '.'
    };

    //=====================================================
    // 7-bit codepoint data
    //=====================================================

    ///
    /// Table containing categories to which first 128 Unicode points belong to
    ///
    __constant__ __device__
    constexpr Codepoint_category codepoint_categories7[128] {
        Codepoint_category::UNRECOGNIZED,
        Codepoint_category::UNRECOGNIZED,
        Codepoint_category::UNRECOGNIZED,
        Codepoint_category::UNRECOGNIZED,
        Codepoint_category::UNRECOGNIZED,
        Codepoint_category::UNRECOGNIZED,
        Codepoint_category::UNRECOGNIZED,
        Codepoint_category::UNRECOGNIZED,
        Codepoint_category::UNRECOGNIZED,
        Codepoint_category::OTHER_WHITESPACE,
        Codepoint_category::NEWLINE,
        Codepoint_category::OTHER_WHITESPACE,
        Codepoint_category::OTHER_WHITESPACE,
        Codepoint_category::OTHER_WHITESPACE,
        Codepoint_category::UNRECOGNIZED,
        Codepoint_category::UNRECOGNIZED,
        Codepoint_category::UNRECOGNIZED,
        Codepoint_category::UNRECOGNIZED,
        Codepoint_category::UNRECOGNIZED,
        Codepoint_category::UNRECOGNIZED,
        Codepoint_category::UNRECOGNIZED,
        Codepoint_category::UNRECOGNIZED,
        Codepoint_category::UNRECOGNIZED,
        Codepoint_category::UNRECOGNIZED,
        Codepoint_category::UNRECOGNIZED,
        Codepoint_category::UNRECOGNIZED,
        Codepoint_category::UNRECOGNIZED,
        Codepoint_category::UNRECOGNIZED,
        Codepoint_category::UNRECOGNIZED,
        Codepoint_category::UNRECOGNIZED,
        Codepoint_category::UNRECOGNIZED,
        Codepoint_category::UNRECOGNIZED,
        Codepoint_category::OTHER_WHITESPACE,
        Codepoint_category::EXCLAMATION,
        Codepoint_category::DOUBLE_QUOTES,
        Codepoint_category::UNRECOGNIZED,
        Codepoint_category::UNRECOGNIZED,
        Codepoint_category::PERCENT_SIGN,
        Codepoint_category::AMPERSAND,
        Codepoint_category::SINGLE_QUOTE,
        Codepoint_category::L_PAREN,
        Codepoint_category::R_PAREN,
        Codepoint_category::ASTERISK,
        Codepoint_category::PLUS,
        Codepoint_category::COMMA,
        Codepoint_category::MINUS,
        Codepoint_category::DOT,
        Codepoint_category::FORWARD_SLASH,
        Codepoint_category::IDENTIFIER_CONTINUE,
        Codepoint_category::IDENTIFIER_CONTINUE,
        Codepoint_category::IDENTIFIER_CONTINUE,
        Codepoint_category::IDENTIFIER_CONTINUE,
        Codepoint_category::IDENTIFIER_CONTINUE,
        Codepoint_category::IDENTIFIER_CONTINUE,
        Codepoint_category::IDENTIFIER_CONTINUE,
        Codepoint_category::IDENTIFIER_CONTINUE,
        Codepoint_category::IDENTIFIER_CONTINUE,
        Codepoint_category::IDENTIFIER_CONTINUE,
        Codepoint_category::COLON,
        Codepoint_category::SEMICOLON,
        Codepoint_category::L_ANGLE_BRACKET,
        Codepoint_category::EQUAL_SIGN,
        Codepoint_category::R_ANGLE_BRACKET,
        Codepoint_category::UNRECOGNIZED,
        Codepoint_category::UNRECOGNIZED,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::L_SQUARE_BRACKET,
        Codepoint_category::BACKSLASH,
        Codepoint_category::R_SQUARE_BRACKET,
        Codepoint_category::CARET,
        Codepoint_category::IDENTIFIER_CONTINUE,
        Codepoint_category::UNRECOGNIZED,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::IDENTIFIER_START,
        Codepoint_category::L_CURLY_BRACKET,
        Codepoint_category::PIPE,
        Codepoint_category::R_CURLY_BRACKET,
        Codepoint_category::TILDE,
        Codepoint_category::UNRECOGNIZED
    };

    //=====================================================
    // 8 through 16-bit codepoint data
    //=====================================================

    ///
    /// List of codepoints which may be used within identifiers, starting from
    /// 2^8, up to 2^16 - 1.
    ///
    __constant__ __device__
    constexpr std::uint16_t identifier_codepoint_range_firsts_16[482] {
           170,    181,    183,    186,    192,    216,    248,    710,
           736,    748,    750,    768,    880,    886,    890,    895,
           902,    903,    904,    908,    910,    931,   1015,   1155,
          1162,   1329,   1369,   1376,   1425,   1471,   1473,   1476,
          1479,   1488,   1519,   1552,   1568,   1611,   1646,   1648,
          1649,   1749,   1750,   1759,   1765,   1767,   1770,   1774,
          1776,   1786,   1791,   1808,   1809,   1810,   1840,   1869,
          1958,   1969,   1984,   1994,   2027,   2036,   2042,   2045,
          2048,   2070,   2074,   2075,   2084,   2085,   2088,   2089,
          2112,   2137,   2144,   2160,   2185,   2200,   2208,   2250,
          2275,   2308,   2362,   2365,   2366,   2384,   2385,   2392,
          2402,   2406,   2417,   2433,   2437,   2447,   2451,   2474,
          2482,   2486,   2492,   2493,   2494,   2503,   2507,   2510,
          2519,   2524,   2527,   2530,   2534,   2544,   2556,   2558,
          2561,   2565,   2575,   2579,   2602,   2610,   2613,   2616,
          2620,   2622,   2631,   2635,   2641,   2649,   2654,   2662,
          2674,   2677,   2689,   2693,   2703,   2707,   2730,   2738,
          2741,   2748,   2749,   2750,   2759,   2763,   2768,   2784,
          2786,   2790,   2809,   2810,   2817,   2821,   2831,   2835,
          2858,   2866,   2869,   2876,   2877,   2878,   2887,   2891,
          2901,   2908,   2911,   2914,   2918,   2929,   2946,   2947,
          2949,   2958,   2962,   2969,   2972,   2974,   2979,   2984,
          2990,   3006,   3014,   3018,   3024,   3031,   3046,   3072,
          3077,   3086,   3090,   3114,   3132,   3133,   3134,   3142,
          3146,   3157,   3160,   3165,   3168,   3170,   3174,   3200,
          3201,   3205,   3214,   3218,   3242,   3253,   3260,   3261,
          3262,   3270,   3274,   3285,   3293,   3296,   3298,   3302,
          3313,   3315,   3328,   3332,   3342,   3346,   3387,   3389,
          3390,   3398,   3402,   3406,   3412,   3415,   3423,   3426,
          3430,   3450,   3457,   3461,   3482,   3507,   3517,   3520,
          3530,   3535,   3542,   3544,   3558,   3570,   3585,   3633,
          3634,   3636,   3648,   3655,   3664,   3713,   3716,   3718,
          3724,   3749,   3751,   3761,   3762,   3764,   3773,   3776,
          3782,   3784,   3792,   3804,   3840,   3864,   3872,   3893,
          3895,   3897,   3902,   3904,   3913,   3953,   3974,   3976,
          3981,   3993,   4038,   4096,   4139,   4159,   4160,   4176,
          4182,   4186,   4190,   4193,   4194,   4197,   4199,   4206,
          4209,   4213,   4226,   4238,   4239,   4256,   4295,   4301,
          4304,   4348,   4682,   4688,   4696,   4698,   4704,   4746,
          4752,   4786,   4792,   4800,   4802,   4808,   4824,   4882,
          4888,   4957,   4969,   4992,   5024,   5112,   5121,   5743,
          5761,   5792,   5870,   5888,   5906,   5919,   5938,   5952,
          5970,   5984,   5998,   6002,   6016,   6068,   6103,   6108,
          6109,   6112,   6155,   6159,   6176,   6272,   6313,   6314,
          6320,   6400,   6432,   6448,   6470,   6480,   6512,   6528,
          6576,   6608,   6656,   6679,   6688,   6741,   6752,   6783,
          6800,   6823,   6832,   6847,   6912,   6917,   6964,   6981,
          6992,   7019,   7040,   7043,   7073,   7086,   7088,   7098,
          7142,   7168,   7204,   7232,   7245,   7248,   7258,   7296,
          7312,   7357,   7376,   7380,   7401,   7405,   7406,   7412,
          7413,   7415,   7418,   7424,   7616,   7680,   7960,   7968,
          8008,   8016,   8025,   8027,   8029,   8031,   8064,   8118,
          8126,   8130,   8134,   8144,   8150,   8160,   8178,   8182,
          8204,   8255,   8276,   8305,   8319,   8336,   8400,   8417,
          8421,   8450,   8455,   8458,   8469,   8472,   8484,   8486,
          8488,   8490,   8508,   8517,   8526,   8544,  11264,  11499,
         11503,  11506,  11520,  11559,  11565,  11568,  11631,  11647,
         11648,  11680,  11688,  11696,  11704,  11712,  11720,  11728,
         11736,  11744,  12293,  12321,  12330,  12337,  12344,  12353,
         12441,  12443,  12449,  12539,  12540,  12549,  12593,  12704,
         12784,  13312,
    };

    ///
    /// Array parallel to identifier_codepoint_range_first_16
    ///
    /// Contains the lengths of the ranges whose first elements are contained
    /// in identifier_codepoint_range_first_16.
    ///
    __constant__ __device__
    constexpr std::uint16_t identifier_codepoint_range_sizes_16[482] {
             1,      1,      1,      1,     23,     31,    458,     12,
             5,      1,      1,    112,      5,      2,      4,      1,
             1,      1,      3,      1,     20,     83,    139,      5,
           166,     38,      1,     41,     45,      1,      2,      2,
             1,     27,      4,     11,     43,     31,      2,      1,
            99,      1,      7,      6,      2,      2,      4,      2,
            10,      3,      1,      1,      1,     30,     27,     89,
            11,      1,     10,     33,      9,      2,      1,      1,
            22,      4,      1,      9,      1,      3,      1,      5,
            25,      3,     11,     24,      6,      8,     42,     24,
            33,     54,      3,      1,     18,      1,      7,     10,
             2,     10,     16,      3,      8,      2,     22,      7,
             1,      4,      1,      1,      7,      2,      3,      1,
             1,      2,      3,      2,     10,      2,      1,      1,
             3,      6,      2,     22,      7,      2,      2,      2,
             1,      5,      2,      3,      1,      4,      1,     12,
             3,      1,      3,      9,      3,     22,      7,      2,
             5,      1,      1,      8,      3,      3,      1,      2,
             2,     10,      1,      6,      3,      8,      2,     22,
             7,      2,      5,      1,      1,      7,      2,      3,
             3,      2,      3,      2,     10,      1,      1,      1,
             6,      3,      4,      2,      1,      2,      2,      3,
            12,      5,      3,      4,      1,      1,     10,      5,
             8,      3,     23,     16,      1,      1,      7,      3,
             4,      2,      3,      1,      2,      2,     10,      1,
             3,      8,      3,     23,     10,      5,      1,      1,
             7,      3,      4,      2,      2,      2,      2,     10,
             2,      1,      4,      9,      3,     41,      2,      1,
             7,      3,      4,      1,      3,      1,      3,      2,
            10,      6,      3,     18,     24,      9,      1,      7,
             1,      6,      1,      8,     10,      2,     48,      1,
             2,      7,      7,      8,     10,      2,      1,      5,
            24,      1,     10,      1,      2,      9,      1,      5,
             1,      7,     10,      4,      1,      2,     10,      1,
             1,      1,      2,      8,     36,     20,      2,      5,
            11,     36,      1,     43,     20,      1,     10,      6,
             4,      4,      3,      1,      3,      2,      7,      3,
             4,     13,     12,      1,     15,     38,      1,      1,
            43,    333,      4,      7,      1,      4,     41,      4,
            33,      4,      7,      1,      4,     15,     57,      4,
            67,      3,      9,     16,     86,      6,    620,     17,
            26,     75,     11,     18,      4,     19,      3,     18,
             2,     13,      3,      2,     52,     32,      1,      1,
             1,     10,      3,     11,     89,     41,      1,      1,
            70,     31,     12,     12,     10,     30,      5,     44,
            26,     11,     23,      5,     53,     10,     29,     11,
            10,      1,     14,     16,      5,     47,     17,      8,
            10,      9,      3,     30,     13,      2,     10,     44,
            14,     36,     20,     10,      3,     10,     36,      9,
            43,      3,      3,     21,      4,      1,      6,      1,
             2,      3,      1,    192,     64,    278,      6,     38,
             6,      8,      1,      1,      1,     31,     53,      7,
             1,      3,      7,      4,      6,     13,      3,      7,
             2,      2,      1,      1,      1,     13,     13,      1,
            12,      1,      1,     10,      1,      6,      1,      1,
             1,     16,      4,      5,      1,     41,    229,      4,
             3,      2,     38,      1,      1,     56,      1,      1,
            23,      7,      7,      7,      7,      7,      7,      7,
             7,     32,      3,      9,      6,      5,      5,     86,
             2,      5,     90,      1,      4,     43,     94,     32,
            16,   6592,
    };

    static_assert(
        std::is_same_v<decltype(identifier_codepoint_range_firsts_16), decltype(identifier_codepoint_range_sizes_16)>
    );

    /// Array containing categorizations of codepoint ranges listed in
    /// identifier_codepoint_range_firsts_16 and
    /// identifier_codepoint_range_sizes_16. These categorizations are encoded
    /// as individual bits. A 1 indicates IDENTIFIER_START, and a 0 indicates
    /// IDENTIFIER_CONTINUE
    __constant__ __device__
    constexpr std::uint32_t identifier_codepoint_categories_16[16] {
        0x0f7df7fb, 0x6aae9356, 0xf4aa5d55, 0x60fe668b,
        0x17e4c5f9, 0x2f11ffa6, 0xb930be9c, 0xe540fa58,
        0xa89819d7, 0xffffeaaa, 0xb0d6aff9, 0xa8a215e3,
        0xffed53d2, 0xfffe38ff, 0xf6edff7e, 0x00000003
    };



    //=====================================================
    // 8 through 21-bit codepoint data
    //=====================================================

    ///
    /// List of codepoints which may be used within identifiers, starting from
    /// 2^8, up to 2^21 - 1
    ///
    __constant__ __device__
    constexpr std::uint32_t identifier_codepoint_range_firsts_21[1033] {
           170,    181,    183,    186,    192,    216,    248,    710,
           736,    748,    750,    768,    880,    886,    890,    895,
           902,    903,    904,    908,    910,    931,   1015,   1155,
          1162,   1329,   1369,   1376,   1425,   1471,   1473,   1476,
          1479,   1488,   1519,   1552,   1568,   1611,   1646,   1648,
          1649,   1749,   1750,   1759,   1765,   1767,   1770,   1774,
          1776,   1786,   1791,   1808,   1809,   1810,   1840,   1869,
          1958,   1969,   1984,   1994,   2027,   2036,   2042,   2045,
          2048,   2070,   2074,   2075,   2084,   2085,   2088,   2089,
          2112,   2137,   2144,   2160,   2185,   2200,   2208,   2250,
          2275,   2308,   2362,   2365,   2366,   2384,   2385,   2392,
          2402,   2406,   2417,   2433,   2437,   2447,   2451,   2474,
          2482,   2486,   2492,   2493,   2494,   2503,   2507,   2510,
          2519,   2524,   2527,   2530,   2534,   2544,   2556,   2558,
          2561,   2565,   2575,   2579,   2602,   2610,   2613,   2616,
          2620,   2622,   2631,   2635,   2641,   2649,   2654,   2662,
          2674,   2677,   2689,   2693,   2703,   2707,   2730,   2738,
          2741,   2748,   2749,   2750,   2759,   2763,   2768,   2784,
          2786,   2790,   2809,   2810,   2817,   2821,   2831,   2835,
          2858,   2866,   2869,   2876,   2877,   2878,   2887,   2891,
          2901,   2908,   2911,   2914,   2918,   2929,   2946,   2947,
          2949,   2958,   2962,   2969,   2972,   2974,   2979,   2984,
          2990,   3006,   3014,   3018,   3024,   3031,   3046,   3072,
          3077,   3086,   3090,   3114,   3132,   3133,   3134,   3142,
          3146,   3157,   3160,   3165,   3168,   3170,   3174,   3200,
          3201,   3205,   3214,   3218,   3242,   3253,   3260,   3261,
          3262,   3270,   3274,   3285,   3293,   3296,   3298,   3302,
          3313,   3315,   3328,   3332,   3342,   3346,   3387,   3389,
          3390,   3398,   3402,   3406,   3412,   3415,   3423,   3426,
          3430,   3450,   3457,   3461,   3482,   3507,   3517,   3520,
          3530,   3535,   3542,   3544,   3558,   3570,   3585,   3633,
          3634,   3636,   3648,   3655,   3664,   3713,   3716,   3718,
          3724,   3749,   3751,   3761,   3762,   3764,   3773,   3776,
          3782,   3784,   3792,   3804,   3840,   3864,   3872,   3893,
          3895,   3897,   3902,   3904,   3913,   3953,   3974,   3976,
          3981,   3993,   4038,   4096,   4139,   4159,   4160,   4176,
          4182,   4186,   4190,   4193,   4194,   4197,   4199,   4206,
          4209,   4213,   4226,   4238,   4239,   4256,   4295,   4301,
          4304,   4348,   4682,   4688,   4696,   4698,   4704,   4746,
          4752,   4786,   4792,   4800,   4802,   4808,   4824,   4882,
          4888,   4957,   4969,   4992,   5024,   5112,   5121,   5743,
          5761,   5792,   5870,   5888,   5906,   5919,   5938,   5952,
          5970,   5984,   5998,   6002,   6016,   6068,   6103,   6108,
          6109,   6112,   6155,   6159,   6176,   6272,   6313,   6314,
          6320,   6400,   6432,   6448,   6470,   6480,   6512,   6528,
          6576,   6608,   6656,   6679,   6688,   6741,   6752,   6783,
          6800,   6823,   6832,   6847,   6912,   6917,   6964,   6981,
          6992,   7019,   7040,   7043,   7073,   7086,   7088,   7098,
          7142,   7168,   7204,   7232,   7245,   7248,   7258,   7296,
          7312,   7357,   7376,   7380,   7401,   7405,   7406,   7412,
          7413,   7415,   7418,   7424,   7616,   7680,   7960,   7968,
          8008,   8016,   8025,   8027,   8029,   8031,   8064,   8118,
          8126,   8130,   8134,   8144,   8150,   8160,   8178,   8182,
          8204,   8255,   8276,   8305,   8319,   8336,   8400,   8417,
          8421,   8450,   8455,   8458,   8469,   8472,   8484,   8486,
          8488,   8490,   8508,   8517,   8526,   8544,  11264,  11499,
         11503,  11506,  11520,  11559,  11565,  11568,  11631,  11647,
         11648,  11680,  11688,  11696,  11704,  11712,  11720,  11728,
         11736,  11744,  12293,  12321,  12330,  12337,  12344,  12353,
         12441,  12443,  12449,  12539,  12540,  12549,  12593,  12704,
         12784,  13312,  19968,  42192,  42240,  42512,  42528,  42538,
         42560,  42607,  42612,  42623,  42654,  42656,  42736,  42775,
         42786,  42891,  42960,  42963,  42965,  42994,  43010,  43011,
         43014,  43015,  43019,  43020,  43043,  43052,  43072,  43136,
         43138,  43188,  43216,  43232,  43250,  43259,  43261,  43263,
         43274,  43302,  43312,  43335,  43360,  43392,  43396,  43443,
         43471,  43472,  43488,  43493,  43494,  43504,  43514,  43520,
         43561,  43584,  43587,  43588,  43596,  43600,  43616,  43642,
         43643,  43646,  43696,  43697,  43698,  43701,  43703,  43705,
         43710,  43712,  43713,  43714,  43739,  43744,  43755,  43762,
         43765,  43777,  43785,  43793,  43808,  43816,  43824,  43868,
         43888,  44003,  44012,  44016,  44032,  55216,  55243,  63744,
         64112,  64256,  64275,  64285,  64286,  64287,  64298,  64312,
         64318,  64320,  64323,  64326,  64467,  64848,  64914,  65008,
         65024,  65056,  65075,  65101,  65136,  65142,  65296,  65313,
         65343,  65345,  65381,  65382,  65474,  65482,  65490,  65498,
         65536,  65549,  65576,  65596,  65599,  65616,  65664,  65856,
         66045,  66176,  66208,  66272,  66304,  66349,  66384,  66422,
         66432,  66464,  66504,  66513,  66560,  66720,  66736,  66776,
         66816,  66864,  66928,  66940,  66956,  66964,  66967,  66979,
         66995,  67003,  67072,  67392,  67424,  67456,  67463,  67506,
         67584,  67592,  67594,  67639,  67644,  67647,  67680,  67712,
         67808,  67828,  67840,  67872,  67968,  68030,  68096,  68097,
         68101,  68108,  68112,  68117,  68121,  68152,  68159,  68192,
         68224,  68288,  68297,  68325,  68352,  68416,  68448,  68480,
         68608,  68736,  68800,  68864,  68900,  68912,  69248,  69291,
         69296,  69373,  69376,  69415,  69424,  69446,  69488,  69506,
         69552,  69600,  69632,  69635,  69688,  69734,  69745,  69747,
         69749,  69759,  69763,  69808,  69826,  69840,  69872,  69888,
         69891,  69927,  69942,  69956,  69957,  69959,  69968,  70003,
         70006,  70016,  70019,  70067,  70081,  70089,  70094,  70106,
         70108,  70144,  70163,  70188,  70206,  70207,  70209,  70272,
         70280,  70282,  70287,  70303,  70320,  70367,  70384,  70400,
         70405,  70415,  70419,  70442,  70450,  70453,  70459,  70461,
         70462,  70471,  70475,  70480,  70487,  70493,  70498,  70502,
         70512,  70656,  70709,  70727,  70736,  70750,  70751,  70784,
         70832,  70852,  70855,  70864,  71040,  71087,  71096,  71128,
         71132,  71168,  71216,  71236,  71248,  71296,  71339,  71352,
         71360,  71424,  71453,  71472,  71488,  71680,  71724,  71840,
         71904,  71935,  71945,  71948,  71957,  71960,  71984,  71991,
         71995,  71999,  72000,  72001,  72002,  72016,  72096,  72106,
         72145,  72154,  72161,  72163,  72164,  72192,  72193,  72203,
         72243,  72250,  72251,  72263,  72272,  72273,  72284,  72330,
         72349,  72368,  72704,  72714,  72751,  72760,  72768,  72784,
         72818,  72850,  72873,  72960,  72968,  72971,  73009,  73018,
         73020,  73023,  73030,  73031,  73040,  73056,  73063,  73066,
         73098,  73104,  73107,  73112,  73120,  73440,  73459,  73472,
         73474,  73475,  73476,  73490,  73524,  73534,  73552,  73648,
         73728,  74752,  74880,  77712,  77824,  78912,  78913,  78919,
         82944,  92160,  92736,  92768,  92784,  92864,  92880,  92912,
         92928,  92976,  92992,  93008,  93027,  93053,  93760,  93952,
         94031,  94032,  94033,  94095,  94099,  94176,  94179,  94180,
         94192,  94208, 100352, 101632, 110576, 110581, 110589, 110592,
        110898, 110928, 110933, 110948, 110960, 113664, 113776, 113792,
        113808, 113821, 118528, 118576, 119141, 119149, 119163, 119173,
        119210, 119362, 119808, 119894, 119966, 119970, 119973, 119977,
        119982, 119995, 119997, 120005, 120071, 120077, 120086, 120094,
        120123, 120128, 120134, 120138, 120146, 120488, 120514, 120540,
        120572, 120598, 120630, 120656, 120688, 120714, 120746, 120772,
        120782, 121344, 121403, 121461, 121476, 121499, 121505, 122624,
        122661, 122880, 122888, 122907, 122915, 122918, 122928, 123023,
        123136, 123184, 123191, 123200, 123214, 123536, 123566, 123584,
        123628, 124112, 124140, 124896, 124904, 124909, 124912, 124928,
        125136, 125184, 125252, 125259, 125264, 126464, 126469, 126497,
        126500, 126503, 126505, 126516, 126521, 126523, 126530, 126535,
        126537, 126539, 126541, 126545, 126548, 126551, 126553, 126555,
        126557, 126559, 126561, 126564, 126567, 126572, 126580, 126585,
        126590, 126592, 126603, 126625, 126629, 126635, 130032, 131072,
        173824, 177984, 178208, 183984, 191472, 194560, 196608, 201552,
        917760,
    };

    ///
    /// Array parallel to identifier_codepoints_21.
    ///
    /// Contains the lengths of the ranges whose first elements are listed in
    /// identifier_codepoints_21
    ///
    __constant__ __device__
    constexpr std::uint16_t identifier_codepoint_range_sizes_21[1033] {
             1,      1,      1,      1,     23,     31,    458,     12,
             5,      1,      1,    112,      5,      2,      4,      1,
             1,      1,      3,      1,     20,     83,    139,      5,
           166,     38,      1,     41,     45,      1,      2,      2,
             1,     27,      4,     11,     43,     31,      2,      1,
            99,      1,      7,      6,      2,      2,      4,      2,
            10,      3,      1,      1,      1,     30,     27,     89,
            11,      1,     10,     33,      9,      2,      1,      1,
            22,      4,      1,      9,      1,      3,      1,      5,
            25,      3,     11,     24,      6,      8,     42,     24,
            33,     54,      3,      1,     18,      1,      7,     10,
             2,     10,     16,      3,      8,      2,     22,      7,
             1,      4,      1,      1,      7,      2,      3,      1,
             1,      2,      3,      2,     10,      2,      1,      1,
             3,      6,      2,     22,      7,      2,      2,      2,
             1,      5,      2,      3,      1,      4,      1,     12,
             3,      1,      3,      9,      3,     22,      7,      2,
             5,      1,      1,      8,      3,      3,      1,      2,
             2,     10,      1,      6,      3,      8,      2,     22,
             7,      2,      5,      1,      1,      7,      2,      3,
             3,      2,      3,      2,     10,      1,      1,      1,
             6,      3,      4,      2,      1,      2,      2,      3,
            12,      5,      3,      4,      1,      1,     10,      5,
             8,      3,     23,     16,      1,      1,      7,      3,
             4,      2,      3,      1,      2,      2,     10,      1,
             3,      8,      3,     23,     10,      5,      1,      1,
             7,      3,      4,      2,      2,      2,      2,     10,
             2,      1,      4,      9,      3,     41,      2,      1,
             7,      3,      4,      1,      3,      1,      3,      2,
            10,      6,      3,     18,     24,      9,      1,      7,
             1,      6,      1,      8,     10,      2,     48,      1,
             2,      7,      7,      8,     10,      2,      1,      5,
            24,      1,     10,      1,      2,      9,      1,      5,
             1,      7,     10,      4,      1,      2,     10,      1,
             1,      1,      2,      8,     36,     20,      2,      5,
            11,     36,      1,     43,     20,      1,     10,      6,
             4,      4,      3,      1,      3,      2,      7,      3,
             4,     13,     12,      1,     15,     38,      1,      1,
            43,    333,      4,      7,      1,      4,     41,      4,
            33,      4,      7,      1,      4,     15,     57,      4,
            67,      3,      9,     16,     86,      6,    620,     17,
            26,     75,     11,     18,      4,     19,      3,     18,
             2,     13,      3,      2,     52,     32,      1,      1,
             1,     10,      3,     11,     89,     41,      1,      1,
            70,     31,     12,     12,     10,     30,      5,     44,
            26,     11,     23,      5,     53,     10,     29,     11,
            10,      1,     14,     16,      5,     47,     17,      8,
            10,      9,      3,     30,     13,      2,     10,     44,
            14,     36,     20,     10,      3,     10,     36,      9,
            43,      3,      3,     21,      4,      1,      6,      1,
             2,      3,      1,    192,     64,    278,      6,     38,
             6,      8,      1,      1,      1,     31,     53,      7,
             1,      3,      7,      4,      6,     13,      3,      7,
             2,      2,      1,      1,      1,     13,     13,      1,
            12,      1,      1,     10,      1,      6,      1,      1,
             1,     16,      4,      5,      1,     41,    229,      4,
             3,      2,     38,      1,      1,     56,      1,      1,
            23,      7,      7,      7,      7,      7,      7,      7,
             7,     32,      3,      9,      6,      5,      5,     86,
             2,      5,     90,      1,      4,     43,     94,     32,
            16,   6592,  22157,     46,    269,     16,     10,      2,
            47,      1,     10,     31,      2,     80,      2,      9,
           103,     64,      2,      1,      5,     16,      1,      3,
             1,      4,      1,     23,      5,      1,     52,      2,
            50,     18,     10,     18,      6,      1,      2,     11,
            28,      8,     23,     13,     29,      4,     47,     14,
             1,     10,      5,      1,     10,     10,      5,     41,
            14,      3,      1,      8,      2,     10,     23,      1,
             3,     50,      1,      1,      3,      2,      2,      5,
             2,      1,      1,      1,      3,     11,      5,      3,
             2,      6,      6,      6,      7,      7,     43,     14,
           115,      8,      2,     10,  11172,     23,     49,    366,
           106,      7,      5,      1,      1,     10,     13,      5,
             1,      2,      2,    108,    363,     64,     54,     12,
            16,     16,      2,      3,      5,    135,     10,     26,
             1,     26,      1,     89,      6,      6,      6,      3,
            12,     26,     19,      2,     15,     14,    123,     53,
             1,     29,     49,      1,     32,     30,     38,      5,
            30,     36,      8,      5,    158,     10,     36,     36,
            40,     52,     11,     15,      7,      2,     11,     15,
             7,      2,    311,     22,      8,      6,     42,      9,
             6,      1,     44,      2,      1,     23,     23,     31,
            19,      2,     22,     26,     56,      2,      1,      3,
             2,      4,      4,      3,     29,      3,      1,     29,
            29,      8,     28,      2,     54,     22,     19,     18,
            73,     51,     51,     36,      4,     10,     42,      2,
             2,      3,     29,      1,     22,     11,     18,      4,
            21,     23,      3,     53,     15,     11,      2,      2,
             1,      4,     45,     11,      1,     25,     10,      3,
            36,     14,     10,      1,      2,      1,     35,      1,
             1,      3,     48,     14,      4,      4,     12,      1,
             1,     18,     25,     12,      1,      2,      1,      7,
             1,      4,     15,     10,     47,     12,     10,      4,
             8,      2,     22,      7,      2,      5,      2,      1,
             7,      2,      3,      1,      1,      5,      2,      7,
             5,     53,     18,      4,     10,      1,      3,     48,
            20,      2,      1,     10,     47,      7,      9,      4,
             2,     48,     17,      1,     10,     43,     13,      1,
            10,     27,     15,     10,      7,     44,     15,     64,
            10,      8,      1,      8,      2,     24,      6,      2,
             4,      1,      1,      1,      2,     10,      8,     39,
             7,      7,      1,      1,      1,      1,     10,     40,
             7,      1,      4,      1,      1,     11,     46,     16,
             1,     73,      9,     37,      8,      8,      1,     10,
            30,     22,     14,      7,      2,     38,      6,      1,
             2,      7,      1,      1,     10,      6,      2,     32,
             5,      2,      5,      1,     10,     19,      4,      2,
             1,      1,     13,     34,      7,      5,     10,      1,
           922,    111,    196,     97,   1072,      1,      6,     15,
           583,    569,     31,     10,     79,     10,     30,      5,
            48,      7,      4,     10,     21,     19,     64,     75,
             1,      1,     55,      4,     13,      2,      1,      1,
             2,   6136,   1238,      9,      4,      7,      2,    291,
             1,      3,      1,      4,    396,    107,     13,      9,
            10,      2,     46,     23,      5,      6,      8,      7,
             4,      3,     85,     71,      2,      1,      2,      4,
            12,      1,      7,     65,      4,      8,      7,     28,
             4,      5,      1,      7,    340,     25,     25,     31,
            25,     31,     25,     31,     25,     31,     25,      8,
            50,     55,     50,      1,      1,      5,     15,     31,
             6,      7,     17,      7,      2,      5,     62,      1,
            45,      7,      7,     10,      1,     30,      1,     44,
            14,     28,     14,      7,      4,      2,     15,    197,
             7,     68,      7,      1,     10,      4,     27,      2,
             1,      1,     10,      4,      1,      1,      1,      1,
             1,      1,      3,      2,      1,      1,      1,      1,
             1,      1,      2,      1,      4,      7,      4,      4,
             1,     10,     17,      3,      5,     17,     10,  42720,
          4154,    222,   5762,   7473,    622,    542,   4939,   4192,
           240
    };

    static_assert(
        std::extent<decltype(identifier_codepoint_range_firsts_21)>::value == std::extent<decltype(identifier_codepoint_range_sizes_21)>::value
    );

    ///
    /// Array containing categorizations of codepoint ranges listed in
    /// identifier_codepoint_range_firsts_21 and
    /// identifier_codepoint_range_sizes_21. These categorizations are encoded
    /// as individual bits. A 1 indicates IDENTIFIER_START, and a 0 indicates
    /// IDENTIFIER_CONTINUE
    ///
    __constant__ __device__
    constexpr std::uint32_t identifier_codepoint_categories_21[33] {
        0x0f7df7fb, 0x6aae9356, 0xf4aa5d55, 0x60fe668b,
        0x17e4c5f9, 0x2f11ffa6, 0xb930be9c, 0xe540fa58,
        0xa89819d7, 0xffffeaaa, 0xb0d6aff9, 0xa8a215e3,
        0xffed53d2, 0xfffe38ff, 0xf6edff7e, 0x4abfa9bf,
        0xcad55571, 0xf1febaaa, 0xfab0ffef, 0xffdf76ff,
        0x9c7fffff, 0x4b5d4ff7, 0xa7956925, 0xca28bf1f,
        0x3eb2aa96, 0x4f52acca, 0x8d28e439, 0x72f5575f,
        0xfc01fffe, 0x80ffffff, 0xeafab541, 0xbfffffff,
        0x000000ff
    };



    //=====================================================
    // Whitespace codepoint data
    //=====================================================

    ///
    /// List of codepoints which are larger than 2^8 and which are recognized as
    /// whitespace.
    ///
    __device__
    constexpr std::uint16_t non_ascii_whitespace_codepoints[19] {
        0x0085, 0x1680, 0x2000, 0x2001,
        0x2002, 0x2003, 0x2004, 0x2005,
        0x2006, 0x2007, 0x2008, 0x2009,
        0x200a, 0x2028, 0x2028, 0x2029,
        0x202F, 0x205F, 0x3000
    };

}

#endif //HARMONIA_CODEPOINT_MANIPULATION_TABLES_HPP
